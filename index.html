<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CodeLearn – Landing (Bootstrap 5)</title>

    <!-- Bootstrap 5 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <style>
      :root {
        --bg: #0f2a44; /* xanh đậm của hero */
        --tile: #193a5f; /* xanh đậm nhạt hơn 1 chút */
        --accent: #3ee2c0; /* xanh ngọc nhấn */
      }
      body {
        background: #0b2238;
      }

      /* Navbar lite */
      .nav-lite {
        background: #0b2238; /* đồng màu nền */
        border-bottom: 1px solid rgba(255, 255, 255, 0.06);
      }
      .nav-lite .nav-link {
        color: #cfe2ff;
      }
      .nav-lite .nav-link:hover {
        color: #fff;
      }

      /* Hero */
      .hero {
        background: linear-gradient(120deg, var(--bg), #0b2745 60%);
        color: #e8f1ff;
        position: relative;
        overflow: hidden;
      }
      .hero .blob {
        position: absolute;
        right: -140px;
        top: -80px;
        width: 540px;
        height: 540px;
        background: #4b65ff22;
        border-radius: 36px;
        transform: rotate(12deg);
        filter: blur(0.5px);
      }
      .hero h1 {
        font-weight: 800;
        letter-spacing: 0.2px;
      }
      .hero .highlight {
        color: var(--accent);
      }

      /* Feature tiles */
      .tile {
        background: var(--tile);
        border: 1px solid rgba(255, 255, 255, 0.06);
        color: #e9f2ff;
        border-radius: 12px;
        padding: 0.9rem 1rem;
      }
      .tile .bi {
        color: var(--accent);
      }
      .tile + .tile {
        margin-top: 0.8rem;
      }

      /* Partner logos */
      .partners img {
        height: 40px;
        object-fit: contain;
        filter: drop-shadow(0 1px 0 rgba(0, 0, 0, 0.03));
      }

      /* Login Card */
      .login-card {
        border: none;
        border-radius: 18px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
      }
      .social-btn {
        border-color: #e9ecef;
        background: #fff;
      }
      .social-btn:hover {
        background: #f7f7f7;
      }

      @media (max-width: 991.98px) {
        .hero .blob {
          right: -220px;
          top: -80px;
          width: 620px;
          height: 620px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Top bar / brand -->
    <nav class="nav-lite navbar navbar-expand-lg">
      <div class="container-xxl py-2">
        <a class="navbar-brand text-white fw-bold" href="#">
          <i class="bi bi-code-square me-2"></i>CODELEARN
        </a>
        <div class="ms-auto d-flex gap-2">
          <a class="btn btn-primary btn" href="register.html">Đăng ký</a>
        </div>
      </div>
    </nav>

    <!-- Hero section -->
    <section class="hero py-5 py-lg-5">
      <div class="blob"></div>
      <div class="container-xxl py-4">
        <div class="row align-items-center g-5">
          <!-- Left copy -->
          <div class="col-lg-7">
            <h1 class="display-5 mb-4">
              Nền tảng học lập trình <br class="d-none d-md-block" />trực tuyến
              dành riêng <br />cho <span class="highlight">học sinh</span>
            </h1>

            <div class="tile d-flex align-items-center gap-2">
              <i class="bi bi-plus-lg fs-5"></i>
              <div>Học lập trình từ con số 0</div>
            </div>
            <div class="tile d-flex align-items-center gap-2">
              <i class="bi bi-plus-lg fs-5"></i>
              <div>Khơi dậy đam mê công nghệ</div>
            </div>
            <div class="tile d-flex align-items-center gap-2">
              <i class="bi bi-plus-lg fs-5"></i>
              <div>Chinh phục thế giới số, khẳng định bản thân</div>
            </div>
            <div class="tile d-flex align-items-center gap-2">
              <i class="bi bi-plus-lg fs-5"></i>
              <div>Mở ra cơ hội việc làm hấp dẫn trong tương lai</div>
            </div>
          </div>

          <!-- Right login card -->
          <div class="col-lg-5">
            <div class="card login-card p-3 p-md-4 bg-white">
              <div class="card-body">
                <h5 class="fw-semibold mb-3 text-center">
                  Học lập trình cùng với CodeLearn
                </h5>
                <form>
                  <div class="mb-3">
                    <label class="form-label small">Tên tài khoản: </label>
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Tên tài khoản*"
                    />
                  </div>
                  <div class="mb-2">
                    <label class="form-label small">Mật khẩu: </label>
                    <div class="input-group">
                      <input
                        type="password"
                        class="form-control"
                        placeholder="Mật khẩu*"
                        id="password"
                      />
                      <button
                        class="btn btn-outline-secondary"
                        type="button"
                        id="togglePw"
                        aria-label="Hiện/ẩn mật khẩu"
                      >
                        <i class="bi bi-eye"></i>
                      </button>
                    </div>
                  </div>
                  <div class="text-end mb-3">
                    <a href="forgot-password.html" class="small"
                      >Quên mật khẩu?</a
                    >
                  </div>
                  <div class="d-grid">
                    <button
                      class="btn btn-primary"
                      type="submit"
                      id="btn-login"
                    >
                      Đăng nhập
                    </button>
                  </div>
                </form>

                <div class="text-center text-secondary small my-3">
                  Hoặc tiếp tục với
                </div>
                <div class="d-flex gap-2">
                  <button class="btn w-100 border social-btn" type="button">
                    <i class="bi bi-microsoft me-2"></i>Microsoft
                  </button>
                  <button class="btn w-100 border social-btn" type="button">
                    <i class="bi bi-google me-2"></i>Google
                  </button>
                  <button class="btn w-100 border social-btn" type="button">
                    <i class="bi bi-github me-2"></i>GitHub
                  </button>
                </div>

                <div class="text-center mt-3 small">
                  Nếu bạn chưa có tài khoản, vui lòng
                  <a href="register.html">Đăng ký</a>.
                </div>

                <div class="border-top mt-3 pt-3 small text-secondary">
                  Trang này được bảo vệ bởi reCAPTCHA và áp dụng
                  <a href="#">Điều khoản sử dụng</a>.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="py-4 text-center text-white-50">
      <div class="container-xxl small">
        © 2025 CodeLearn (demo) – Bootstrap 5
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Toggle password visibility
      document
        .getElementById("togglePw")
        ?.addEventListener("click", function () {
          const pw = document.getElementById("password");
          if (!pw) return;
          const isPw = pw.getAttribute("type") === "password";
          pw.setAttribute("type", isPw ? "text" : "password");
          this.querySelector("i")?.classList.toggle("bi-eye");
          this.querySelector("i")?.classList.toggle("bi-eye-slash");
        });

      // Login form handling with role-based redirect
      const form = document.querySelector(".login-card form");
      form.addEventListener("submit", function (e) {
        e.preventDefault();

        const username = document
          .querySelector('input[type="text"]')
          .value.toLowerCase();
        const password = document.querySelector('input[type="password"]').value;

        // Giả lập xác thực và phân quyền
        // Demo credentials - trong thực tế sẽ gọi API để xác thực
        const users = {
          admin: { password: "admin123", role: "admin" },
          "admin@codelearn.com": { password: "admin123", role: "admin" },
          teacher: { password: "teacher123", role: "teacher" },
          "teacher@codelearn.com": { password: "teacher123", role: "teacher" },
          "gv.minh@codelearn.com": { password: "teacher123", role: "teacher" },
          learner: { password: "learner123", role: "learner" },
          "student@codelearn.com": { password: "learner123", role: "learner" },
          "mortos2722004@gmail.com": { password: "123456", role: "learner" },
        };

        const user = users[username];

        if (user && user.password === password) {
          // Thành công - chuyển hướng theo vai trò
          localStorage.setItem(
            "currentUser",
            JSON.stringify({
              username: username,
              role: user.role,
              loginTime: new Date().toISOString(),
            })
          );

          switch (user.role) {
            case "admin":
              window.location.href = "admin_home.html";
              break;
            case "teacher":
              window.location.href = "teacher_home.html";
              break;
            default:
              window.location.href = "learner_home.html";
          }
        } else {
          // Thất bại - hiển thị lỗi
          showLoginError("Tên tài khoản hoặc mật khẩu không đúng!");
        }
      });

      // Hàm hiển thị lỗi đăng nhập
      function showLoginError(message) {
        // Xóa thông báo lỗi cũ nếu có
        const existingError = document.querySelector(".login-error");
        if (existingError) {
          existingError.remove();
        }

        // Tạo thông báo lỗi mới
        const errorDiv = document.createElement("div");
        errorDiv.className =
          "alert alert-danger alert-dismissible fade show login-error";
        errorDiv.style.borderRadius = "12px";
        errorDiv.style.marginTop = "1rem";
        errorDiv.innerHTML = `
          <i class="bi bi-exclamation-triangle-fill me-2"></i>
          ${message}
          <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        `;

        // Thêm vào form
        const submitBtn = document.getElementById("btn-login");
        submitBtn.parentNode.insertBefore(errorDiv, submitBtn);
      }

      // Demo info modal
      document.addEventListener("DOMContentLoaded", function () {
        // Hiển thị thông tin demo khi trang tải
        setTimeout(() => {
          const demoInfo = `
            <div class="alert alert-info alert-dismissible fade show" role="alert" style="position: fixed; top: 20px; right: 20px; z-index: 9999; max-width: 400px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
              <h6 class="alert-heading"><i class="bi bi-info-circle-fill me-2"></i>Thông tin đăng nhập Demo</h6>
              <small>
                <strong>Admin:</strong> admin / admin123<br>
                <strong>Giảng viên:</strong> teacher / teacher123<br>
                <strong>Học viên:</strong> learner / learner123<br>
                <em>Hoặc sử dụng các email tương ứng</em>
              </small>
              <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
          `;
          document.body.insertAdjacentHTML("beforeend", demoInfo);
        }, 2000);
      });
    </script>
  </body>
</html>
